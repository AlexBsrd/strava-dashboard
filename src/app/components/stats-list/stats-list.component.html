<div class="activity-header">
  <div class="title-section">
    <div class="activity-icon" [ngClass]="activityType.toLowerCase()">
      <i class="icon"></i>
    </div>
    <div class="activity-info">
      <h2>{{ title }}</h2>
      <span class="activity-count">{{ stats.numberOfActivities }} activité(s)</span>
    </div>
  </div>

  <button class="share-button" (click)="openShareModal()">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
         stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
      <circle cx="12" cy="12" r="4"></circle>
      <circle cx="18" cy="6" r="1.5"></circle>
    </svg>
  </button>
</div>

<div class="stats-grid">
  <app-stats-card
    class="double-row"
    title="Temps total"
    [value]="stats.totalElapsedTime"
    unit=""
    [isTime]="true">
  </app-stats-card>

  <app-stats-card
    class="double-row"
    title="Vitesse moyenne"
    [value]="stats.averageSpeed"
    unit="km/h">
  </app-stats-card>

  <app-stats-card
    title="Distance totale"
    [value]="stats.totalDistance"
    unit="km">
  </app-stats-card>

  <app-stats-card
    title="Distance moyenne/sortie"
    [value]="stats.averageDistance"
    unit="km">
  </app-stats-card>

  <app-stats-card
    title="Dénivelé total"
    [value]="stats.totalElevation"
    unit="m">
  </app-stats-card>

  <app-stats-card
    title="Dénivelé moyen/sortie"
    [value]="stats.averageElevation"
    unit="m">
  </app-stats-card>
</div>

<app-share-modal
  *ngIf="showShareModal"
  [isOpen]="showShareModal"
  [stats]="stats"
  [title]="title"
  [period]="getPeriodLabel()"
  (closeModal)="closeShareModal()">
</app-share-modal>
