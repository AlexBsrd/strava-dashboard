<ng-container *ngIf="hasRecords(); else noRecords">
  <div class="performance-container">
    <div class="section best-performances">
      <p class="mobile-hint">{{ 'performance.mobile_hint' | translate }}</p>
      <h2>{{ 'performance.title' | translate }}</h2>
      <div class="records-grid">
        <!-- 5km Record -->
        <div class="record-card" *ngIf="metrics?.bestRaces?.fiveKm?.value">
          <div class="record-title">5 KM</div>
          <div class="record-value">{{ metrics.bestRaces.fiveKm.value | number:'1.1-1' }} km/h</div>
          <div class="record-pace">{{ calculatePace(metrics.bestRaces.fiveKm.value) }} min/km</div>
          <div class="record-details">
            {{ metrics.bestRaces.fiveKm.activityName }}
            <small>{{ formatDate(metrics.bestRaces.fiveKm.date) }}</small>
          </div>
        </div>

        <!-- 10km Record -->
        <div class="record-card" *ngIf="metrics?.bestRaces?.tenKm?.value">
          <div class="record-title">10 KM</div>
          <div class="record-value">{{ metrics.bestRaces.tenKm.value | number:'1.1-1' }} km/h</div>
          <div class="record-pace">{{ calculatePace(metrics.bestRaces.tenKm.value) }} min/km</div>
          <div class="record-details">
            {{ metrics.bestRaces.tenKm.activityName }}
            <small>{{ formatDate(metrics.bestRaces.tenKm.date) }}</small>
          </div>
        </div>

        <!-- Semi-Marathon Record -->
        <div class="record-card" *ngIf="metrics?.bestRaces?.semi?.value">
          <div class="record-title">{{ 'performance.races.half_marathon' | translate }}</div>
          <div class="record-value">{{ metrics.bestRaces.semi.value | number:'1.1-1' }} km/h</div>
          <div class="record-pace">{{ calculatePace(metrics.bestRaces.semi.value) }} min/km</div>
          <div class="record-details">
            {{ metrics.bestRaces.semi.activityName }}
            <small>{{ formatDate(metrics.bestRaces.semi.date) }}</small>
          </div>
        </div>

        <!-- Marathon Record -->
        <div class="record-card" *ngIf="metrics?.bestRaces?.marathon?.value">
          <div class="record-title">Marathon</div>
          <div class="record-value">{{ metrics.bestRaces.marathon.value | number:'1.1-1' }} km/h</div>
          <div class="record-pace">{{ calculatePace(metrics.bestRaces.marathon.value) }} min/km</div>
          <div class="record-details">
            {{ metrics.bestRaces.marathon.activityName }}
            <small>{{ formatDate(metrics.bestRaces.marathon.date) }}</small>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>

<ng-template #noRecords>
  <div class="performance-container">
    <div class="section empty-state">
      <div class="empty-state-content">
        <i class="empty-state-icon">üèÉ</i>
        <div class="empty-state-text">
          <h2>{{ 'performance.no_records' | translate }}</h2>
          <p>{{ 'performance.keep_training' | translate }}</p>
          <ul>
            <li>{{ 'performance.races.five_km' | translate }}</li>
            <li>{{ 'performance.races.ten_km' | translate }}</li>
            <li>{{ 'performance.races.half_marathon' | translate }}</li>
            <li>Marathon</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</ng-template>
