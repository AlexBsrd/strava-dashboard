import{c as ne,d as re,f as T,g as ae}from"./chunk-PUAS7KUQ.js";import{B as N,C as V,Fa as X,Ha as Z,K as H,Ka as ee,La as te,M as o,N as k,T as w,V as c,Y as t,Z as i,Za as ie,_ as s,a as j,b as F,ba as W,ca as G,da as v,f as U,g as $,h as B,ia as n,ja as d,k as P,ka as J,l as Y,la as g,n as L,o as E,qa as I,s as M,sa as K,ua as Q,v as q,x as O}from"./chunk-4UTGUK5Q.js";var D=class l{static \u0275fac=function(e){return new(e||l)};static \u0275cmp=O({type:l,selectors:[["app-profile-skeleton"]],standalone:!0,features:[I],decls:38,vars:0,consts:[[1,"skeleton-profile-card"],[1,"skeleton","skeleton-avatar"],[1,"skeleton-info"],[1,"skeleton","skeleton-name"],[1,"skeleton-details"],[1,"skeleton","skeleton-detail"],[1,"skeleton-stats-grid"],[1,"skeleton-stats-card"],[1,"skeleton","skeleton-card-title"],[1,"skeleton-stats-details"],[1,"skeleton-stat"],[1,"skeleton","skeleton-stat-label"],[1,"skeleton","skeleton-stat-value"]],template:function(e,a){e&1&&(t(0,"div",0),s(1,"div",1),t(2,"div",2),s(3,"div",3),t(4,"div",4),s(5,"div",5)(6,"div",5),i()()(),t(7,"div",6)(8,"div",7),s(9,"div",8),t(10,"div",9)(11,"div",10),s(12,"div",11)(13,"div",12),i(),t(14,"div",10),s(15,"div",11)(16,"div",12),i(),t(17,"div",10),s(18,"div",11)(19,"div",12),i(),t(20,"div",10),s(21,"div",11)(22,"div",12),i()()(),t(23,"div",7),s(24,"div",8),t(25,"div",9)(26,"div",10),s(27,"div",11)(28,"div",12),i(),t(29,"div",10),s(30,"div",11)(31,"div",12),i(),t(32,"div",10),s(33,"div",11)(34,"div",12),i(),t(35,"div",10),s(36,"div",11)(37,"div",12),i()()()())},styles:[".skeleton[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite;background:linear-gradient(90deg,var(--bg-primary) 25%,var(--gray-200) 37%,var(--bg-primary) 63%);background-size:400% 100%}@keyframes _ngcontent-%COMP%_pulse{0%{background-position:100% 50%}to{background-position:0 50%}}.skeleton-profile-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;background:var(--bg-primary);padding:2rem;border-radius:16px;box-shadow:var(--shadow-sm);margin-bottom:2rem}.skeleton-avatar[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%}.skeleton-info[_ngcontent-%COMP%]{flex:1}.skeleton-name[_ngcontent-%COMP%]{height:2.5rem;width:200px;border-radius:8px;margin-bottom:1rem}.skeleton-details[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.skeleton-detail[_ngcontent-%COMP%]{height:1rem;width:120px;border-radius:4px}.skeleton-stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.skeleton-stats-card[_ngcontent-%COMP%]{background:var(--bg-primary);padding:1.5rem;border-radius:12px;box-shadow:var(--shadow-sm)}.skeleton-card-title[_ngcontent-%COMP%]{height:1.5rem;width:150px;border-radius:4px;margin-bottom:1.5rem}.skeleton-stats-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.skeleton-stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.skeleton-stat-label[_ngcontent-%COMP%]{height:.8rem;width:80px;border-radius:4px}.skeleton-stat-value[_ngcontent-%COMP%]{height:1.2rem;width:100px;border-radius:4px}@media (max-width: 768px){.skeleton-profile-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding:1.5rem}.skeleton-avatar[_ngcontent-%COMP%]{width:120px;height:120px}.skeleton-details[_ngcontent-%COMP%]{justify-content:center}.skeleton-stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var A=class l{constructor(r){this.http=r}apiUrl="https://www.strava.com/api/v3";getAthleteProfile(){return this.http.get(`${this.apiUrl}/athlete`).pipe(L(r=>(console.error("Erreur lors de la r\xE9cup\xE9ration du profil:",r),P(()=>new Error("Impossible de r\xE9cup\xE9rer le profil de l'athl\xE8te")))))}getAthleteSummary(){return localStorage.getItem("strava_athlete_id")?this.getAllActivities().pipe(Y(e=>{let a=new Date().getFullYear(),m=e.filter(p=>new Date(p.start_date).getFullYear()===a),u=e.filter(p=>p.type==="Run"),le=e.filter(p=>p.type==="Ride"),se=m.filter(p=>p.type==="Run"),de=m.filter(p=>p.type==="Ride"),f=this.findBiggestClimb(m),_=this.findLongestRun(m),y=this.findBiggestClimb(e),h=this.findLongestRun(e),x=this.findBiggestRideClimb(m),b=this.findLongestRide(m),C=this.findBiggestRideClimb(e),S=this.findLongestRide(e);return{all_run_totals:this.calculateTotals(u),all_ride_totals:this.calculateTotals(le),ytd_run_totals:this.calculateTotals(se),ytd_ride_totals:this.calculateTotals(de),current_year_records:{biggest_climb:{value:f?.total_elevation_gain||0,activity_type:f?.type||"",activity_name:f?.name||"Aucune activit\xE9",activity_date:f?.start_date.toString()||"",activity_period:"current_year"},longest_run:{value:_?.distance||0,activity_type:_?.type||"",activity_name:_?.name||"Aucune activit\xE9",activity_date:_?.start_date.toString()||"",activity_period:"current_year"}},all_time_records:{biggest_climb:{value:y?.total_elevation_gain||0,activity_type:y?.type||"",activity_name:y?.name||"Aucune activit\xE9",activity_date:y?.start_date.toString()||"",activity_period:"all_time"},longest_run:{value:h?.distance||0,activity_type:h?.type||"",activity_name:h?.name||"Aucune activit\xE9",activity_date:h?.start_date.toString()||"",activity_period:"all_time"}},current_year_ride_records:{biggest_climb:{value:x?.total_elevation_gain||0,activity_type:x?.type||"",activity_name:x?.name||"Aucune activit\xE9",activity_date:x?.start_date.toString()||"",activity_period:"current_year"},longest_ride:{value:b?.distance||0,activity_type:b?.type||"",activity_name:b?.name||"Aucune activit\xE9",activity_date:b?.start_date.toString()||"",activity_period:"current_year"}},all_time_ride_records:{biggest_climb:{value:C?.total_elevation_gain||0,activity_type:C?.type||"",activity_name:C?.name||"Aucune activit\xE9",activity_date:C?.start_date.toString()||"",activity_period:"all_time"},longest_ride:{value:S?.distance||0,activity_type:S?.type||"",activity_name:S?.name||"Aucune activit\xE9",activity_date:S?.start_date.toString()||"",activity_period:"all_time"}}}}),L(e=>(console.error("Erreur lors de la r\xE9cup\xE9ration des statistiques:",e),P(()=>new Error("Impossible de r\xE9cup\xE9rer les statistiques de l'athl\xE8te"))))):P(()=>new Error("ID de l'athl\xE8te non trouv\xE9"))}getAllActivities(){return new U(r=>{let e=(a,m=[])=>{this.http.get(`${this.apiUrl}/athlete/activities`,{params:{per_page:"200",page:a.toString()}}).subscribe({next:u=>{u.length===0?(r.next(m),r.complete()):e(a+1,[...m,...u])},error:u=>r.error(u)})};e(1)})}filterCurrentYear(r){let e=new Date().getFullYear();return r.filter(a=>new Date(a.start_date).getFullYear()===e)}calculateTotals(r){return{count:r.length,distance:r.reduce((e,a)=>e+(a.distance||0),0),moving_time:r.reduce((e,a)=>e+(a.moving_time||0),0),elapsed_time:r.reduce((e,a)=>e+(a.elapsed_time||0),0),elevation_gain:r.reduce((e,a)=>e+(a.total_elevation_gain||0),0)}}findBiggestClimb(r){let e=r.filter(a=>a.type==="Run"||a.type==="Walk"||a.type==="Hike");if(e.length!==0)return e.reduce((a,m)=>!a||m.total_elevation_gain>a.total_elevation_gain?m:a,e[0])}findLongestRun(r){let e=r.filter(a=>a.type==="Run"||a.type==="Walk"||a.type==="Hike");if(e.length!==0)return e.reduce((a,m)=>!a||m.distance>a.distance?m:a,e[0])}findBiggestRideClimb(r){let e=r.filter(a=>a.type==="Ride");if(e.length!==0)return e.reduce((a,m)=>!a||m.total_elevation_gain>a.total_elevation_gain?m:a,e[0])}findLongestRide(r){let e=r.filter(a=>a.type==="Ride");if(e.length!==0)return e.reduce((a,m)=>!a||m.distance>a.distance?m:a,e[0])}static \u0275fac=function(e){return new(e||l)(q(te))};static \u0275prov=M({token:l,factory:l.\u0275fac,providedIn:"root"})};var R=class l{cache={profile:null,summary:null,lastUpdate:null};profileSubject=new B(this.cache);setProfileData(r,e){this.cache={profile:r,summary:e,lastUpdate:new Date},this.profileSubject.next(this.cache)}setProfileOnly(r){this.cache=F(j({},this.cache),{profile:r,lastUpdate:this.cache.lastUpdate||new Date}),this.profileSubject.next(this.cache)}getProfileData$(){return this.profileSubject.asObservable()}needsRefresh(){if(!this.cache.lastUpdate||!this.cache.profile||!this.cache.summary)return!0;let r=new Date(Date.now()-30*60*1e3);return this.cache.lastUpdate<r}clear(){this.cache={profile:null,summary:null,lastUpdate:null},this.profileSubject.next(this.cache)}static \u0275fac=function(e){return new(e||l)};static \u0275prov=M({token:l,factory:l.\u0275fac,providedIn:"root"})};function ge(l,r){l&1&&s(0,"app-profile-skeleton")}function ue(l,r){if(l&1){let e=W();t(0,"div",4)(1,"div",5)(2,"div",6),n(3,"\u26A0\uFE0F"),i(),t(4,"p"),n(5),i(),t(6,"button",7),G("click",function(){N(e);let m=v();return V(m.reconnect())}),n(7," Se reconnecter \xE0 Strava "),i()()()}if(l&2){let e=v();o(5),d(e.error)}}function ve(l,r){if(l&1&&(t(0,"span",15)(1,"i",16),n(2,"\u{1F4CD}"),i(),n(3),i()),l&2){let e=v(2);o(3),g(" ",e.profile.city,", ",e.profile.country," ")}}function fe(l,r){l&1&&(t(0,"div",19)(1,"div",20),s(2,"div",21),t(3,"div",22)(4,"h3"),n(5,"Chargement de vos statistiques..."),i(),t(6,"p"),n(7,"Nous r\xE9cup\xE9rons toutes vos activit\xE9s Strava pour calculer vos totaux et records."),i(),t(8,"p",23),n(9,"Cette op\xE9ration peut prendre quelques instants selon le nombre d'activit\xE9s."),i()()(),t(10,"div",24)(11,"div",25)(12,"div",26),s(13,"div",27)(14,"div",28),i(),t(15,"div",29),s(16,"div",30)(17,"div",30)(18,"div",30)(19,"div",30),i()(),t(20,"div",25)(21,"div",26),s(22,"div",27)(23,"div",28),i(),t(24,"div",29),s(25,"div",30)(26,"div",30)(27,"div",30)(28,"div",30),i()(),t(29,"div",25)(30,"div",26),s(31,"div",27)(32,"div",28),i(),t(33,"div",29),s(34,"div",31)(35,"div",31),i()(),t(36,"div",25)(37,"div",26),s(38,"div",27)(39,"div",28),i(),t(40,"div",29),s(41,"div",30)(42,"div",30)(43,"div",30)(44,"div",30),i()(),t(45,"div",25)(46,"div",26),s(47,"div",27)(48,"div",28),i(),t(49,"div",29),s(50,"div",30)(51,"div",30)(52,"div",30)(53,"div",30),i()(),t(54,"div",25)(55,"div",26),s(56,"div",27)(57,"div",28),i(),t(58,"div",29),s(59,"div",31)(60,"div",31),i()()()()),l&2&&c("@fadeIn",void 0)}function _e(l,r){if(l&1&&(t(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",35),n(4,"\u{1F3C3}"),i(),t(5,"h3"),n(6,"Course \xE0 pied - Total"),i()(),t(7,"div",36)(8,"div",37)(9,"span",38),n(10),i(),t(11,"span",39),n(12,"distance totale"),i()(),t(13,"div",37)(14,"span",38),n(15),i(),t(16,"span",39),n(17,"temps total"),i()(),t(18,"div",37)(19,"span",38),n(20),i(),t(21,"span",39),n(22,"sorties"),i()(),t(23,"div",37)(24,"span",38),n(25),i(),t(26,"span",39),n(27,"d\xE9nivel\xE9 total"),i()()()(),t(28,"div",40)(29,"div",34)(30,"div",41),n(31,"\u{1F6B4}"),i(),t(32,"h3"),n(33,"V\xE9lo - Total"),i()(),t(34,"div",36)(35,"div",37)(36,"span",38),n(37),i(),t(38,"span",39),n(39,"distance totale"),i()(),t(40,"div",37)(41,"span",38),n(42),i(),t(43,"span",39),n(44,"temps total"),i()(),t(45,"div",37)(46,"span",38),n(47),i(),t(48,"span",39),n(49,"sorties"),i()(),t(50,"div",37)(51,"span",38),n(52),i(),t(53,"span",39),n(54,"d\xE9nivel\xE9 total"),i()()()(),t(55,"div",42)(56,"div",34)(57,"div",43),n(58,"\u{1F3C6}"),i(),t(59,"h3"),n(60,"Records (Course/Marche uniquement)"),i()(),t(61,"div",36)(62,"div",44)(63,"div",45)(64,"span",46),n(65,"Plus grand d\xE9nivel\xE9"),i(),t(66,"span",47),n(67),i(),t(68,"span",48),n(69),i(),t(70,"span",49),n(71),i()()(),t(72,"div",44)(73,"div",45)(74,"span",46),n(75,"Plus longue sortie"),i(),t(76,"span",47),n(77),i(),t(78,"span",48),n(79),i(),t(80,"span",49),n(81),i()()()()(),t(82,"div",50)(83,"div",34)(84,"div",35),n(85,"\u{1F3C3}"),i(),t(86,"h3"),n(87,"Course \xE0 pied - Cette ann\xE9e"),i()(),t(88,"div",36)(89,"div",37)(90,"span",38),n(91),i(),t(92,"span",39),n(93,"distance parcourue"),i()(),t(94,"div",37)(95,"span",38),n(96),i(),t(97,"span",39),n(98,"temps total"),i()(),t(99,"div",37)(100,"span",38),n(101),i(),t(102,"span",39),n(103,"sorties"),i()(),t(104,"div",37)(105,"span",38),n(106),i(),t(107,"span",39),n(108,"d\xE9nivel\xE9 total"),i()()()(),t(109,"div",51)(110,"div",34)(111,"div",41),n(112,"\u{1F6B4}"),i(),t(113,"h3"),n(114,"V\xE9lo - Cette ann\xE9e"),i()(),t(115,"div",36)(116,"div",37)(117,"span",38),n(118),i(),t(119,"span",39),n(120,"distance parcourue"),i()(),t(121,"div",37)(122,"span",38),n(123),i(),t(124,"span",39),n(125,"temps total"),i()(),t(126,"div",37)(127,"span",38),n(128),i(),t(129,"span",39),n(130,"sorties"),i()(),t(131,"div",37)(132,"span",38),n(133),i(),t(134,"span",39),n(135,"d\xE9nivel\xE9 total"),i()()()(),t(136,"div",42)(137,"div",34)(138,"div",52),n(139,"\u{1F3C6}"),i(),t(140,"h3"),n(141,"Records (V\xE9lo uniquement)"),i()(),t(142,"div",36)(143,"div",44)(144,"div",45)(145,"span",46),n(146,"Plus grand d\xE9nivel\xE9"),i(),t(147,"span",47),n(148),i(),t(149,"span",48),n(150),i(),t(151,"span",49),n(152),i()()(),t(153,"div",44)(154,"div",45)(155,"span",46),n(156,"Plus longue sortie"),i(),t(157,"span",47),n(158),i(),t(159,"span",48),n(160),i(),t(161,"span",49),n(162),i()()()()()()),l&2){let e=v(2);c("@fadeIn",void 0),o(10),d(e.formatDistance(e.summary.all_run_totals.distance)),o(5),d(e.formatDuration(e.summary.all_run_totals.moving_time)),o(5),d(e.summary.all_run_totals.count),o(5),d(e.formatElevation(e.summary.all_run_totals.elevation_gain)),o(12),d(e.formatDistance(e.summary.all_ride_totals.distance)),o(5),d(e.formatDuration(e.summary.all_ride_totals.moving_time)),o(5),d(e.summary.all_ride_totals.count),o(5),d(e.formatElevation(e.summary.all_ride_totals.elevation_gain)),o(15),d(e.formatElevation(e.summary.all_time_records.biggest_climb.value)),o(2),g(" ",e.summary.all_time_records.biggest_climb.activity_name," (",e.summary.all_time_records.biggest_climb.activity_type,") "),o(2),d(e.formatDate(e.summary.all_time_records.biggest_climb.activity_date)),o(6),d(e.formatDistance(e.summary.all_time_records.longest_run.value)),o(2),g(" ",e.summary.all_time_records.longest_run.activity_name," (",e.summary.all_time_records.longest_run.activity_type,") "),o(2),d(e.formatDate(e.summary.all_time_records.longest_run.activity_date)),o(10),d(e.formatDistance(e.summary.ytd_run_totals.distance)),o(5),d(e.formatDuration(e.summary.ytd_run_totals.moving_time)),o(5),d(e.summary.ytd_run_totals.count),o(5),d(e.formatElevation(e.summary.ytd_run_totals.elevation_gain)),o(12),d(e.formatDistance(e.summary.ytd_ride_totals.distance)),o(5),d(e.formatDuration(e.summary.ytd_ride_totals.moving_time)),o(5),d(e.summary.ytd_ride_totals.count),o(5),d(e.formatElevation(e.summary.ytd_ride_totals.elevation_gain)),o(15),d(e.formatElevation(e.summary.all_time_ride_records.biggest_climb.value)),o(2),g(" ",e.summary.all_time_ride_records.biggest_climb.activity_name," (",e.summary.all_time_ride_records.biggest_climb.activity_type,") "),o(2),d(e.formatDate(e.summary.all_time_ride_records.biggest_climb.activity_date)),o(6),d(e.formatDistance(e.summary.all_time_ride_records.longest_ride.value)),o(2),g(" ",e.summary.all_time_ride_records.longest_ride.activity_name," (",e.summary.all_time_ride_records.longest_ride.activity_type,") "),o(2),d(e.formatDate(e.summary.all_time_ride_records.longest_ride.activity_date))}}function ye(l,r){if(l&1&&(t(0,"div",8)(1,"div",9)(2,"div",10),s(3,"img",11),i(),t(4,"div",12)(5,"h1"),n(6),i(),t(7,"div",13),w(8,ve,4,2,"span",14),t(9,"span",15)(10,"i",16),n(11,"\u{1F3AF}"),i(),n(12),K(13,"date"),i()()()(),w(14,fe,61,1,"div",17)(15,_e,163,33,"div",18),i()),l&2){let e=v();c("@fadeIn",void 0),o(3),c("src",e.profile.profile||"/assets/images/default-avatar.png",H)("alt",e.profile.firstname),o(3),g("",e.profile.firstname," ",e.profile.lastname,""),o(2),c("ngIf",e.profile.city||e.profile.country),o(4),J(" Membre depuis ",Q(13,9,e.profile.created_at,"MMMM yyyy")," "),o(2),c("ngIf",e.isLoadingSummary),o(),c("ngIf",!e.isLoadingSummary&&e.summary)}}var Ae=ne("fadeIn",[ae(":enter",[T({opacity:0}),re("300ms ease-out",T({opacity:1}))])]),oe=class l{constructor(r,e,a){this.athleteService=r;this.profileCache=e;this.stravaService=a}profile=null;summary=null;isLoadingProfile=!0;isLoadingSummary=!0;error=null;destroy$=new $;ngOnInit(){this.profileCache.getProfileData$().pipe(E(this.destroy$)).subscribe(r=>{r.profile&&(this.profile=r.profile,this.isLoadingProfile=!1),r.summary&&(this.summary=r.summary,this.isLoadingSummary=!1)}),this.loadProfile()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}formatDistance(r){return(r/1e3).toFixed(1)+" km"}formatDuration(r){let e=Math.floor(r/3600),a=Math.floor(r%3600/60);return`${e}h ${a}min`}formatElevation(r){return Math.round(r)+" m"}formatDate(r){return new Date(r).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}reconnect(){this.profileCache.clear(),this.stravaService.authenticate()}loadProfile(){if(!this.profileCache.needsRefresh()){this.isLoadingProfile=!1,this.isLoadingSummary=!1;return}this.isLoadingProfile=!0,this.isLoadingSummary=!0,this.error=null,this.athleteService.getAthleteProfile().pipe(E(this.destroy$)).subscribe({next:r=>{this.profile=r,this.isLoadingProfile=!1,this.profileCache.setProfileOnly(r)},error:r=>{console.error("Error loading profile:",r),this.error="Une erreur est survenue lors du chargement du profil.",this.isLoadingProfile=!1,this.isLoadingSummary=!1}}),this.athleteService.getAthleteSummary().pipe(E(this.destroy$)).subscribe({next:r=>{this.summary=r,this.isLoadingSummary=!1,this.profile&&this.profileCache.setProfileData(this.profile,r)},error:r=>{console.error("Error loading summary:",r),this.error="Une erreur est survenue lors du chargement des statistiques.",this.isLoadingSummary=!1}})}static \u0275fac=function(e){return new(e||l)(k(A),k(R),k(ie))};static \u0275cmp=O({type:l,selectors:[["app-profile"]],standalone:!0,features:[I],decls:4,vars:3,consts:[[1,"profile-container"],[4,"ngIf"],["class","error-container",4,"ngIf"],["class","profile-content",4,"ngIf"],[1,"error-container"],[1,"error-message"],[1,"error-icon"],[1,"reconnect-button",3,"click"],[1,"profile-content"],[1,"profile-card"],[1,"profile-avatar"],[3,"src","alt"],[1,"profile-info"],[1,"profile-details"],["class","detail-item",4,"ngIf"],[1,"detail-item"],[1,"icon"],["class","loading-stats-message",4,"ngIf"],["class","stats-container",4,"ngIf"],[1,"loading-stats-message"],[1,"loading-stats-content"],[1,"loading-spinner"],[1,"loading-text"],[1,"loading-subtext"],[1,"stats-skeleton-grid"],[1,"stats-skeleton-card"],[1,"skeleton-header"],[1,"skeleton-icon"],[1,"skeleton-title"],[1,"skeleton-body"],[1,"skeleton-metric"],[1,"skeleton-record"],[1,"stats-container"],[1,"stats-card","total-running"],[1,"stats-header"],[1,"stats-icon","running"],[1,"stats-body"],[1,"metric"],[1,"metric-value"],[1,"metric-label"],[1,"stats-card","total-cycling"],[1,"stats-icon","cycling"],[1,"stats-card"],[1,"stats-icon","trophy"],[1,"record-item"],[1,"record-info"],[1,"record-title"],[1,"record-value"],[1,"record-details"],[1,"record-date"],[1,"stats-card","ytd-running"],[1,"stats-card","ytd-cycling"],[1,"stats-icon","trophy-ride"]],template:function(e,a){e&1&&(t(0,"div",0),w(1,ge,1,0,"app-profile-skeleton",1)(2,ue,8,1,"div",2)(3,ye,16,12,"div",3),i()),e&2&&(o(),c("ngIf",a.isLoadingProfile),o(),c("ngIf",a.error),o(),c("ngIf",!a.isLoadingProfile&&!a.error&&a.profile))},dependencies:[ee,X,Z,D],styles:['.profile-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.profile-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.profile-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;background:var(--bg-primary);padding:2rem;border-radius:16px;box-shadow:var(--shadow-sm)}.profile-avatar[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;overflow:hidden;flex-shrink:0}.profile-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;color:var(--text-primary);margin-bottom:1rem}.profile-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:var(--text-secondary);font-size:.95rem}.icon[_ngcontent-%COMP%]{font-size:1.2rem}.stats-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem}@media (min-width: 1200px){.stats-container[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.stats-card[_ngcontent-%COMP%]{background:var(--bg-primary);border-radius:var(--radius-md);padding:1.5rem;box-shadow:var(--shadow-sm);display:flex;flex-direction:column;gap:1.5rem;transition:transform .2s,box-shadow .2s}.stats-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 6px #0000001a}.stats-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.stats-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;flex-shrink:0}.stats-icon.running[_ngcontent-%COMP%]{background-color:#ffe0b2}.stats-icon.cycling[_ngcontent-%COMP%]{background-color:#b3e5fc}.stats-icon.trophy[_ngcontent-%COMP%]{background-color:#ffe0b2}.stats-icon.trophy-ride[_ngcontent-%COMP%]{background-color:#b3e5fc}.stats-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-primary);margin:0}.stats-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:1rem}.metric[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.metric-value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--text-primary)}.metric-label[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary)}.record-item[_ngcontent-%COMP%]{border-left:3px solid var(--primary-color);padding-left:1rem;margin-bottom:1rem}.record-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.record-title[_ngcontent-%COMP%]{font-size:.9rem;color:var(--gray-600);text-transform:uppercase}.record-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--gray-800)}.record-details[_ngcontent-%COMP%]{font-size:.9rem;color:var(--gray-800)}.record-date[_ngcontent-%COMP%]{font-size:.85rem;color:var(--gray-600);font-style:italic}.error-message[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--danger-color);background-color:#ffebee;border-radius:8px;margin:2rem 0}@media (max-width: 768px){.profile-container[_ngcontent-%COMP%]{padding:1rem}.profile-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding:1.5rem}.profile-avatar[_ngcontent-%COMP%]{width:120px;height:120px}.profile-details[_ngcontent-%COMP%]{justify-content:center}.stats-container[_ngcontent-%COMP%]{grid-template-columns:1fr}.stats-card[_ngcontent-%COMP%]{padding:1rem}.stats-body[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 480px){.stats-body[_ngcontent-%COMP%]{grid-template-columns:1fr}}.error-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:2rem}.error-message[_ngcontent-%COMP%]{background-color:#ffebee;border-radius:8px;padding:2rem;text-align:center;max-width:400px;width:100%}.error-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--danger-color);margin-bottom:1.5rem}.reconnect-button[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .2s}.reconnect-button[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)}.reconnect-button[_ngcontent-%COMP%]:active{transform:translateY(1px)}.loading-stats-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;margin-top:2rem}.loading-stats-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;background:var(--bg-primary);padding:2rem;border-radius:var(--radius-md);box-shadow:var(--shadow-sm)}.loading-spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid var(--bg-secondary);border-top-color:var(--primary-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;flex-shrink:0}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.loading-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--text-primary);margin:0}.loading-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary);margin:0;line-height:1.5}.loading-subtext[_ngcontent-%COMP%]{font-size:.85rem!important;color:var(--text-tertiary)!important;font-style:italic}.stats-skeleton-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:1.5rem}.stats-skeleton-card[_ngcontent-%COMP%]{background:var(--bg-primary);border-radius:var(--radius-md);padding:1.5rem;box-shadow:var(--shadow-sm);position:relative;overflow:hidden;display:flex;flex-direction:column;gap:1.5rem}.stats-skeleton-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);animation:_ngcontent-%COMP%_shimmer 2s infinite;z-index:1;pointer-events:none}@keyframes _ngcontent-%COMP%_shimmer{to{left:100%}}.skeleton-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.skeleton-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;background:var(--bg-secondary);opacity:.3}.skeleton-title[_ngcontent-%COMP%]{flex:1;height:20px;border-radius:4px;background:var(--bg-secondary);opacity:.3}.skeleton-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.skeleton-metric[_ngcontent-%COMP%]{height:60px;border-radius:6px;background:var(--bg-secondary);opacity:.2}.skeleton-record[_ngcontent-%COMP%]{height:80px;border-radius:6px;background:var(--bg-secondary);opacity:.2;margin-bottom:.5rem}.dark-mode[_nghost-%COMP%]   .stats-skeleton-card[_ngcontent-%COMP%]:after, .dark-mode   [_nghost-%COMP%]   .stats-skeleton-card[_ngcontent-%COMP%]:after{background:linear-gradient(90deg,transparent,rgba(255,255,255,.05),transparent)}@media (max-width: 768px){.loading-stats-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding:1.5rem}.loading-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.loading-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.stats-skeleton-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};export{oe as ProfileComponent,Ae as fadeIn};
