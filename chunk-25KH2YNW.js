import{c as le,d as se,f as j,g as de}from"./chunk-PUAS7KUQ.js";import{$ as i,D as W,E as G,Ka as ee,N as J,O as a,P as y,Sa as te,Ua as ie,V as D,X as g,_ as t,a as U,aa as m,b as $,da as K,ea as Q,f as Y,fa as _,fb as ne,g as H,gb as ae,h as N,ib as re,k as M,ka as n,l as V,la as o,ma as F,na as f,o as T,ob as oe,q as k,ta as A,u as I,va as X,x as q,xa as d,ya as c,z as w,za as Z}from"./chunk-KXPHHAN7.js";var B=class s{static \u0275fac=function(e){return new(e||s)};static \u0275cmp=w({type:s,selectors:[["app-profile-skeleton"]],standalone:!0,features:[A],decls:38,vars:0,consts:[[1,"skeleton-profile-card"],[1,"skeleton","skeleton-avatar"],[1,"skeleton-info"],[1,"skeleton","skeleton-name"],[1,"skeleton-details"],[1,"skeleton","skeleton-detail"],[1,"skeleton-stats-grid"],[1,"skeleton-stats-card"],[1,"skeleton","skeleton-card-title"],[1,"skeleton-stats-details"],[1,"skeleton-stat"],[1,"skeleton","skeleton-stat-label"],[1,"skeleton","skeleton-stat-value"]],template:function(e,l){e&1&&(t(0,"div",0),m(1,"div",1),t(2,"div",2),m(3,"div",3),t(4,"div",4),m(5,"div",5)(6,"div",5),i()()(),t(7,"div",6)(8,"div",7),m(9,"div",8),t(10,"div",9)(11,"div",10),m(12,"div",11)(13,"div",12),i(),t(14,"div",10),m(15,"div",11)(16,"div",12),i(),t(17,"div",10),m(18,"div",11)(19,"div",12),i(),t(20,"div",10),m(21,"div",11)(22,"div",12),i()()(),t(23,"div",7),m(24,"div",8),t(25,"div",9)(26,"div",10),m(27,"div",11)(28,"div",12),i(),t(29,"div",10),m(30,"div",11)(31,"div",12),i(),t(32,"div",10),m(33,"div",11)(34,"div",12),i(),t(35,"div",10),m(36,"div",11)(37,"div",12),i()()()())},styles:[".skeleton[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite;background:linear-gradient(90deg,var(--bg-primary) 25%,var(--gray-200) 37%,var(--bg-primary) 63%);background-size:400% 100%}@keyframes _ngcontent-%COMP%_pulse{0%{background-position:100% 50%}to{background-position:0 50%}}.skeleton-profile-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;background:var(--bg-primary);padding:2rem;border-radius:16px;box-shadow:var(--shadow-sm);margin-bottom:2rem}.skeleton-avatar[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%}.skeleton-info[_ngcontent-%COMP%]{flex:1}.skeleton-name[_ngcontent-%COMP%]{height:2.5rem;width:200px;border-radius:8px;margin-bottom:1rem}.skeleton-details[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.skeleton-detail[_ngcontent-%COMP%]{height:1rem;width:120px;border-radius:4px}.skeleton-stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.skeleton-stats-card[_ngcontent-%COMP%]{background:var(--bg-primary);padding:1.5rem;border-radius:12px;box-shadow:var(--shadow-sm)}.skeleton-card-title[_ngcontent-%COMP%]{height:1.5rem;width:150px;border-radius:4px;margin-bottom:1.5rem}.skeleton-stats-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.skeleton-stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.skeleton-stat-label[_ngcontent-%COMP%]{height:.8rem;width:80px;border-radius:4px}.skeleton-stat-value[_ngcontent-%COMP%]{height:1.2rem;width:100px;border-radius:4px}@media (max-width: 768px){.skeleton-profile-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding:1.5rem}.skeleton-avatar[_ngcontent-%COMP%]{width:120px;height:120px}.skeleton-details[_ngcontent-%COMP%]{justify-content:center}.skeleton-stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var R=class s{constructor(r){this.http=r}apiUrl="https://www.strava.com/api/v3";getAthleteProfile(){return this.http.get(`${this.apiUrl}/athlete`).pipe(T(r=>(console.error("Erreur lors de la r\xE9cup\xE9ration du profil:",r),M(()=>new Error("Impossible de r\xE9cup\xE9rer le profil de l'athl\xE8te")))))}getAthleteSummary(){return localStorage.getItem("strava_athlete_id")?this.getAllActivities().pipe(V(e=>{let l=new Date().getFullYear(),p=e.filter(v=>new Date(v.start_date).getFullYear()===l),u=e.filter(v=>v.type==="Run"),me=e.filter(v=>v.type==="Ride"),pe=p.filter(v=>v.type==="Run"),ge=p.filter(v=>v.type==="Ride"),x=this.findBiggestClimb(p),h=this.findLongestRun(p),b=this.findBiggestClimb(e),S=this.findLongestRun(e),C=this.findBiggestRideClimb(p),P=this.findLongestRide(p),O=this.findBiggestRideClimb(e),E=this.findLongestRide(e);return{all_run_totals:this.calculateTotals(u),all_ride_totals:this.calculateTotals(me),ytd_run_totals:this.calculateTotals(pe),ytd_ride_totals:this.calculateTotals(ge),current_year_records:{biggest_climb:{value:x?.total_elevation_gain||0,activity_type:x?.type||"",activity_name:x?.name||"Aucune activit\xE9",activity_date:x?.start_date.toString()||"",activity_period:"current_year"},longest_run:{value:h?.distance||0,activity_type:h?.type||"",activity_name:h?.name||"Aucune activit\xE9",activity_date:h?.start_date.toString()||"",activity_period:"current_year"}},all_time_records:{biggest_climb:{value:b?.total_elevation_gain||0,activity_type:b?.type||"",activity_name:b?.name||"Aucune activit\xE9",activity_date:b?.start_date.toString()||"",activity_period:"all_time"},longest_run:{value:S?.distance||0,activity_type:S?.type||"",activity_name:S?.name||"Aucune activit\xE9",activity_date:S?.start_date.toString()||"",activity_period:"all_time"}},current_year_ride_records:{biggest_climb:{value:C?.total_elevation_gain||0,activity_type:C?.type||"",activity_name:C?.name||"Aucune activit\xE9",activity_date:C?.start_date.toString()||"",activity_period:"current_year"},longest_ride:{value:P?.distance||0,activity_type:P?.type||"",activity_name:P?.name||"Aucune activit\xE9",activity_date:P?.start_date.toString()||"",activity_period:"current_year"}},all_time_ride_records:{biggest_climb:{value:O?.total_elevation_gain||0,activity_type:O?.type||"",activity_name:O?.name||"Aucune activit\xE9",activity_date:O?.start_date.toString()||"",activity_period:"all_time"},longest_ride:{value:E?.distance||0,activity_type:E?.type||"",activity_name:E?.name||"Aucune activit\xE9",activity_date:E?.start_date.toString()||"",activity_period:"all_time"}}}}),T(e=>(console.error("Erreur lors de la r\xE9cup\xE9ration des statistiques:",e),M(()=>new Error("Impossible de r\xE9cup\xE9rer les statistiques de l'athl\xE8te"))))):M(()=>new Error("ID de l'athl\xE8te non trouv\xE9"))}getAllActivities(){return new Y(r=>{let e=(l,p=[])=>{this.http.get(`${this.apiUrl}/athlete/activities`,{params:{per_page:"200",page:l.toString()}}).subscribe({next:u=>{u.length===0?(r.next(p),r.complete()):e(l+1,[...p,...u])},error:u=>r.error(u)})};e(1)})}filterCurrentYear(r){let e=new Date().getFullYear();return r.filter(l=>new Date(l.start_date).getFullYear()===e)}calculateTotals(r){return{count:r.length,distance:r.reduce((e,l)=>e+(l.distance||0),0),moving_time:r.reduce((e,l)=>e+(l.moving_time||0),0),elapsed_time:r.reduce((e,l)=>e+(l.elapsed_time||0),0),elevation_gain:r.reduce((e,l)=>e+(l.total_elevation_gain||0),0)}}findBiggestClimb(r){let e=r.filter(l=>l.type==="Run"||l.type==="Walk"||l.type==="Hike");if(e.length!==0)return e.reduce((l,p)=>!l||p.total_elevation_gain>l.total_elevation_gain?p:l,e[0])}findLongestRun(r){let e=r.filter(l=>l.type==="Run"||l.type==="Walk"||l.type==="Hike");if(e.length!==0)return e.reduce((l,p)=>!l||p.distance>l.distance?p:l,e[0])}findBiggestRideClimb(r){let e=r.filter(l=>l.type==="Ride");if(e.length!==0)return e.reduce((l,p)=>!l||p.total_elevation_gain>l.total_elevation_gain?p:l,e[0])}findLongestRide(r){let e=r.filter(l=>l.type==="Ride");if(e.length!==0)return e.reduce((l,p)=>!l||p.distance>l.distance?p:l,e[0])}static \u0275fac=function(e){return new(e||s)(q(ie))};static \u0275prov=I({token:s,factory:s.\u0275fac,providedIn:"root"})};var L=class s{cache={profile:null,summary:null,lastUpdate:null};profileSubject=new N(this.cache);setProfileData(r,e){this.cache={profile:r,summary:e,lastUpdate:new Date},this.profileSubject.next(this.cache)}setProfileOnly(r){this.cache=$(U({},this.cache),{profile:r,lastUpdate:this.cache.lastUpdate||new Date}),this.profileSubject.next(this.cache)}getProfileData$(){return this.profileSubject.asObservable()}needsRefresh(){if(!this.cache.lastUpdate||!this.cache.profile||!this.cache.summary)return!0;let r=new Date(Date.now()-30*60*1e3);return this.cache.lastUpdate<r}clear(){this.cache={profile:null,summary:null,lastUpdate:null},this.profileSubject.next(this.cache)}static \u0275fac=function(e){return new(e||s)};static \u0275prov=I({token:s,factory:s.\u0275fac,providedIn:"root"})};var _e=s=>({date:s});function ye(s,r){s&1&&m(0,"app-profile-skeleton")}function xe(s,r){if(s&1){let e=K();t(0,"div",4)(1,"div",5)(2,"div",6),n(3,"\u26A0\uFE0F"),i(),t(4,"p"),n(5),i(),t(6,"button",7),Q("click",function(){W(e);let p=_();return G(p.reconnect())}),n(7),d(8,"translate"),i()()()}if(s&2){let e=_();a(5),o(e.error),a(2),F(" ",c(8,2,"profile.reconnect")," ")}}function he(s,r){if(s&1&&(t(0,"span",15)(1,"i",16),n(2,"\u{1F4CD}"),i(),n(3),i()),s&2){let e=_(2);a(3),f(" ",e.profile.city,", ",e.profile.country," ")}}function be(s,r){s&1&&(t(0,"div",19)(1,"div",20),m(2,"div",21),t(3,"div",22)(4,"h3"),n(5),d(6,"translate"),i(),t(7,"p"),n(8),d(9,"translate"),i(),t(10,"p",23),n(11),d(12,"translate"),i()()(),t(13,"div",24)(14,"div",25)(15,"div",26),m(16,"div",27)(17,"div",28),i(),t(18,"div",29),m(19,"div",30)(20,"div",30)(21,"div",30)(22,"div",30),i()(),t(23,"div",25)(24,"div",26),m(25,"div",27)(26,"div",28),i(),t(27,"div",29),m(28,"div",30)(29,"div",30)(30,"div",30)(31,"div",30),i()(),t(32,"div",25)(33,"div",26),m(34,"div",27)(35,"div",28),i(),t(36,"div",29),m(37,"div",31)(38,"div",31),i()(),t(39,"div",25)(40,"div",26),m(41,"div",27)(42,"div",28),i(),t(43,"div",29),m(44,"div",30)(45,"div",30)(46,"div",30)(47,"div",30),i()(),t(48,"div",25)(49,"div",26),m(50,"div",27)(51,"div",28),i(),t(52,"div",29),m(53,"div",30)(54,"div",30)(55,"div",30)(56,"div",30),i()(),t(57,"div",25)(58,"div",26),m(59,"div",27)(60,"div",28),i(),t(61,"div",29),m(62,"div",31)(63,"div",31),i()()()()),s&2&&(g("@fadeIn",void 0),a(5),o(c(6,4,"profile.loading")),a(3),o(c(9,6,"profile.loading_details")),a(3),o(c(12,8,"profile.loading_subtext")))}function Se(s,r){if(s&1&&(t(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",35),n(4,"\u{1F3C3}"),i(),t(5,"h3"),n(6),d(7,"translate"),i()(),t(8,"div",36)(9,"div",37)(10,"span",38),n(11),i(),t(12,"span",39),n(13),d(14,"translate"),i()(),t(15,"div",37)(16,"span",38),n(17),i(),t(18,"span",39),n(19),d(20,"translate"),i()(),t(21,"div",37)(22,"span",38),n(23),i(),t(24,"span",39),n(25),d(26,"translate"),i()(),t(27,"div",37)(28,"span",38),n(29),i(),t(30,"span",39),n(31),d(32,"translate"),i()()()(),t(33,"div",40)(34,"div",34)(35,"div",41),n(36,"\u{1F6B4}"),i(),t(37,"h3"),n(38),d(39,"translate"),i()(),t(40,"div",36)(41,"div",37)(42,"span",38),n(43),i(),t(44,"span",39),n(45),d(46,"translate"),i()(),t(47,"div",37)(48,"span",38),n(49),i(),t(50,"span",39),n(51),d(52,"translate"),i()(),t(53,"div",37)(54,"span",38),n(55),i(),t(56,"span",39),n(57),d(58,"translate"),i()(),t(59,"div",37)(60,"span",38),n(61),i(),t(62,"span",39),n(63),d(64,"translate"),i()()()(),t(65,"div",42)(66,"div",34)(67,"div",43),n(68,"\u{1F3C6}"),i(),t(69,"h3"),n(70),d(71,"translate"),i()(),t(72,"div",36)(73,"div",44)(74,"div",45)(75,"span",46),n(76),d(77,"translate"),i(),t(78,"span",47),n(79),i(),t(80,"span",48),n(81),i(),t(82,"span",49),n(83),i()()(),t(84,"div",44)(85,"div",45)(86,"span",46),n(87),d(88,"translate"),i(),t(89,"span",47),n(90),i(),t(91,"span",48),n(92),i(),t(93,"span",49),n(94),i()()()()(),t(95,"div",50)(96,"div",34)(97,"div",35),n(98,"\u{1F3C3}"),i(),t(99,"h3"),n(100),d(101,"translate"),i()(),t(102,"div",36)(103,"div",37)(104,"span",38),n(105),i(),t(106,"span",39),n(107),d(108,"translate"),i()(),t(109,"div",37)(110,"span",38),n(111),i(),t(112,"span",39),n(113),d(114,"translate"),i()(),t(115,"div",37)(116,"span",38),n(117),i(),t(118,"span",39),n(119),d(120,"translate"),i()(),t(121,"div",37)(122,"span",38),n(123),i(),t(124,"span",39),n(125),d(126,"translate"),i()()()(),t(127,"div",51)(128,"div",34)(129,"div",41),n(130,"\u{1F6B4}"),i(),t(131,"h3"),n(132),d(133,"translate"),i()(),t(134,"div",36)(135,"div",37)(136,"span",38),n(137),i(),t(138,"span",39),n(139),d(140,"translate"),i()(),t(141,"div",37)(142,"span",38),n(143),i(),t(144,"span",39),n(145),d(146,"translate"),i()(),t(147,"div",37)(148,"span",38),n(149),i(),t(150,"span",39),n(151),d(152,"translate"),i()(),t(153,"div",37)(154,"span",38),n(155),i(),t(156,"span",39),n(157),d(158,"translate"),i()()()(),t(159,"div",42)(160,"div",34)(161,"div",52),n(162,"\u{1F3C6}"),i(),t(163,"h3"),n(164),d(165,"translate"),i()(),t(166,"div",36)(167,"div",44)(168,"div",45)(169,"span",46),n(170),d(171,"translate"),i(),t(172,"span",47),n(173),i(),t(174,"span",48),n(175),i(),t(176,"span",49),n(177),i()()(),t(178,"div",44)(179,"div",45)(180,"span",46),n(181),d(182,"translate"),i(),t(183,"span",47),n(184),i(),t(185,"span",48),n(186),i(),t(187,"span",49),n(188),i()()()()()()),s&2){let e=_(2);g("@fadeIn",void 0),a(6),o(c(7,59,"profile.stats.running_total")),a(5),o(e.formatDistance(e.summary.all_run_totals.distance)),a(2),o(c(14,61,"profile.stats.total_distance")),a(4),o(e.formatDuration(e.summary.all_run_totals.moving_time)),a(2),o(c(20,63,"profile.stats.total_time")),a(4),o(e.summary.all_run_totals.count),a(2),o(c(26,65,"profile.stats.outings")),a(4),o(e.formatElevation(e.summary.all_run_totals.elevation_gain)),a(2),o(c(32,67,"profile.stats.total_elevation")),a(7),o(c(39,69,"profile.stats.cycling_total")),a(5),o(e.formatDistance(e.summary.all_ride_totals.distance)),a(2),o(c(46,71,"profile.stats.total_distance")),a(4),o(e.formatDuration(e.summary.all_ride_totals.moving_time)),a(2),o(c(52,73,"profile.stats.total_time")),a(4),o(e.summary.all_ride_totals.count),a(2),o(c(58,75,"profile.stats.outings")),a(4),o(e.formatElevation(e.summary.all_ride_totals.elevation_gain)),a(2),o(c(64,77,"profile.stats.total_elevation")),a(7),o(c(71,79,"profile.stats.records_running")),a(6),o(c(77,81,"profile.stats.max_elevation")),a(3),o(e.formatElevation(e.summary.all_time_records.biggest_climb.value)),a(2),f(" ",e.summary.all_time_records.biggest_climb.activity_name," (",e.summary.all_time_records.biggest_climb.activity_type,") "),a(2),o(e.formatDate(e.summary.all_time_records.biggest_climb.activity_date)),a(4),o(c(88,83,"profile.stats.longest_outing")),a(3),o(e.formatDistance(e.summary.all_time_records.longest_run.value)),a(2),f(" ",e.summary.all_time_records.longest_run.activity_name," (",e.summary.all_time_records.longest_run.activity_type,") "),a(2),o(e.formatDate(e.summary.all_time_records.longest_run.activity_date)),a(6),o(c(101,85,"profile.stats.running_year")),a(5),o(e.formatDistance(e.summary.ytd_run_totals.distance)),a(2),o(c(108,87,"profile.stats.distance_covered")),a(4),o(e.formatDuration(e.summary.ytd_run_totals.moving_time)),a(2),o(c(114,89,"profile.stats.total_time")),a(4),o(e.summary.ytd_run_totals.count),a(2),o(c(120,91,"profile.stats.outings")),a(4),o(e.formatElevation(e.summary.ytd_run_totals.elevation_gain)),a(2),o(c(126,93,"profile.stats.total_elevation")),a(7),o(c(133,95,"profile.stats.cycling_year")),a(5),o(e.formatDistance(e.summary.ytd_ride_totals.distance)),a(2),o(c(140,97,"profile.stats.distance_covered")),a(4),o(e.formatDuration(e.summary.ytd_ride_totals.moving_time)),a(2),o(c(146,99,"profile.stats.total_time")),a(4),o(e.summary.ytd_ride_totals.count),a(2),o(c(152,101,"profile.stats.outings")),a(4),o(e.formatElevation(e.summary.ytd_ride_totals.elevation_gain)),a(2),o(c(158,103,"profile.stats.total_elevation")),a(7),o(c(165,105,"profile.stats.records_cycling")),a(6),o(c(171,107,"profile.stats.max_elevation")),a(3),o(e.formatElevation(e.summary.all_time_ride_records.biggest_climb.value)),a(2),f(" ",e.summary.all_time_ride_records.biggest_climb.activity_name," (",e.summary.all_time_ride_records.biggest_climb.activity_type,") "),a(2),o(e.formatDate(e.summary.all_time_ride_records.biggest_climb.activity_date)),a(4),o(c(182,109,"profile.stats.longest_outing")),a(3),o(e.formatDistance(e.summary.all_time_ride_records.longest_ride.value)),a(2),f(" ",e.summary.all_time_ride_records.longest_ride.activity_name," (",e.summary.all_time_ride_records.longest_ride.activity_type,") "),a(2),o(e.formatDate(e.summary.all_time_ride_records.longest_ride.activity_date))}}function Ce(s,r){if(s&1&&(t(0,"div",8)(1,"div",9)(2,"div",10),m(3,"img",11),i(),t(4,"div",12)(5,"h1"),n(6),i(),t(7,"div",13),D(8,he,4,2,"span",14),t(9,"span",15)(10,"i",16),n(11,"\u{1F3AF}"),i(),n(12),d(13,"translate"),i()()()(),D(14,be,64,10,"div",17)(15,Se,189,111,"div",18),i()),s&2){let e=_();g("@fadeIn",void 0),a(3),g("src",e.profile.profile||"/assets/images/default-avatar.png",J)("alt",e.profile.firstname),a(3),f("",e.profile.firstname," ",e.profile.lastname,""),a(2),g("ngIf",e.profile.city||e.profile.country),a(4),F(" ",Z(13,9,"profile.member_since",X(12,_e,e.formatMemberSince(e.profile.created_at)))," "),a(2),g("ngIf",e.isLoadingSummary),a(),g("ngIf",!e.isLoadingSummary&&e.summary)}}var Ue=le("fadeIn",[de(":enter",[j({opacity:0}),se("300ms ease-out",j({opacity:1}))])]),ce=class s{constructor(r,e,l,p){this.athleteService=r;this.profileCache=e;this.stravaService=l;this.translateService=p}profile=null;summary=null;isLoadingProfile=!0;isLoadingSummary=!0;error=null;destroy$=new H;ngOnInit(){this.profileCache.getProfileData$().pipe(k(this.destroy$)).subscribe(r=>{r.profile&&(this.profile=r.profile,this.isLoadingProfile=!1),r.summary&&(this.summary=r.summary,this.isLoadingSummary=!1)}),this.loadProfile()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}formatDistance(r){return(r/1e3).toFixed(1)+" km"}formatDuration(r){let e=Math.floor(r/3600),l=Math.floor(r%3600/60);return`${e}h ${l}min`}formatElevation(r){return Math.round(r)+" m"}formatDate(r){let e=this.translateService.currentLang==="en"?"en-US":"fr-FR";return new Date(r).toLocaleDateString(e,{weekday:"long",year:"numeric",month:"long",day:"numeric"})}formatMemberSince(r){let e=this.translateService.currentLang==="en"?"en-US":"fr-FR";return new Date(r).toLocaleDateString(e,{month:"long",year:"numeric"})}reconnect(){this.profileCache.clear(),this.stravaService.authenticate()}loadProfile(){if(!this.profileCache.needsRefresh()){this.isLoadingProfile=!1,this.isLoadingSummary=!1;return}this.isLoadingProfile=!0,this.isLoadingSummary=!0,this.error=null,this.athleteService.getAthleteProfile().pipe(k(this.destroy$)).subscribe({next:r=>{this.profile=r,this.isLoadingProfile=!1,this.profileCache.setProfileOnly(r)},error:r=>{console.error("Error loading profile:",r),this.error=this.translateService.instant("errors.loading_error.title"),this.isLoadingProfile=!1,this.isLoadingSummary=!1}}),this.athleteService.getAthleteSummary().pipe(k(this.destroy$)).subscribe({next:r=>{this.summary=r,this.isLoadingSummary=!1,this.profile&&this.profileCache.setProfileData(this.profile,r)},error:r=>{console.error("Error loading summary:",r),this.error=this.translateService.instant("errors.loading_error.title"),this.isLoadingSummary=!1}})}static \u0275fac=function(e){return new(e||s)(y(R),y(L),y(oe),y(ne))};static \u0275cmp=w({type:s,selectors:[["app-profile"]],standalone:!0,features:[A],decls:4,vars:3,consts:[[1,"profile-container"],[4,"ngIf"],["class","error-container",4,"ngIf"],["class","profile-content",4,"ngIf"],[1,"error-container"],[1,"error-message"],[1,"error-icon"],[1,"reconnect-button",3,"click"],[1,"profile-content"],[1,"profile-card"],[1,"profile-avatar"],[3,"src","alt"],[1,"profile-info"],[1,"profile-details"],["class","detail-item",4,"ngIf"],[1,"detail-item"],[1,"icon"],["class","loading-stats-message",4,"ngIf"],["class","stats-container",4,"ngIf"],[1,"loading-stats-message"],[1,"loading-stats-content"],[1,"loading-spinner"],[1,"loading-text"],[1,"loading-subtext"],[1,"stats-skeleton-grid"],[1,"stats-skeleton-card"],[1,"skeleton-header"],[1,"skeleton-icon"],[1,"skeleton-title"],[1,"skeleton-body"],[1,"skeleton-metric"],[1,"skeleton-record"],[1,"stats-container"],[1,"stats-card","total-running"],[1,"stats-header"],[1,"stats-icon","running"],[1,"stats-body"],[1,"metric"],[1,"metric-value"],[1,"metric-label"],[1,"stats-card","total-cycling"],[1,"stats-icon","cycling"],[1,"stats-card"],[1,"stats-icon","trophy"],[1,"record-item"],[1,"record-info"],[1,"record-title"],[1,"record-value"],[1,"record-details"],[1,"record-date"],[1,"stats-card","ytd-running"],[1,"stats-card","ytd-cycling"],[1,"stats-icon","trophy-ride"]],template:function(e,l){e&1&&(t(0,"div",0),D(1,ye,1,0,"app-profile-skeleton",1)(2,xe,9,4,"div",2)(3,Ce,16,14,"div",3),i()),e&2&&(a(),g("ngIf",l.isLoadingProfile),a(),g("ngIf",l.error),a(),g("ngIf",!l.isLoadingProfile&&!l.error&&l.profile))},dependencies:[te,ee,re,ae,B],styles:['.profile-container[_ngcontent-%COMP%]{max-width:95%;margin:0 auto;padding:2rem}.profile-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.profile-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;background:var(--bg-primary);padding:2rem;border-radius:16px;box-shadow:var(--shadow-sm)}.profile-avatar[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;overflow:hidden;flex-shrink:0}.profile-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;color:var(--text-primary);margin-bottom:1rem}.profile-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:var(--text-secondary);font-size:.95rem}.icon[_ngcontent-%COMP%]{font-size:1.2rem}.stats-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem}@media (min-width: 1200px){.stats-container[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.stats-card[_ngcontent-%COMP%]{background:var(--bg-primary);border-radius:var(--radius-md);padding:1.5rem;box-shadow:var(--shadow-sm);display:flex;flex-direction:column;gap:1.5rem;transition:transform .2s,box-shadow .2s}.stats-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 6px #0000001a}.stats-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.stats-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;flex-shrink:0}.stats-icon.running[_ngcontent-%COMP%]{background-color:#ffe0b2}.stats-icon.cycling[_ngcontent-%COMP%]{background-color:#b3e5fc}.stats-icon.trophy[_ngcontent-%COMP%]{background-color:#ffe0b2}.stats-icon.trophy-ride[_ngcontent-%COMP%]{background-color:#b3e5fc}.stats-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-primary);margin:0}.stats-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:1rem}.metric[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.metric-value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--text-primary)}.metric-label[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary)}.record-item[_ngcontent-%COMP%]{border-left:3px solid var(--primary-color);padding-left:1rem;margin-bottom:1rem}.record-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.record-title[_ngcontent-%COMP%]{font-size:.9rem;color:var(--gray-600);text-transform:uppercase}.record-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--gray-800)}.record-details[_ngcontent-%COMP%]{font-size:.9rem;color:var(--gray-800)}.record-date[_ngcontent-%COMP%]{font-size:.85rem;color:var(--gray-600);font-style:italic}.error-message[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--danger-color);background-color:#ffebee;border-radius:8px;margin:2rem 0}@media (max-width: 768px){.profile-container[_ngcontent-%COMP%]{padding:1rem}.profile-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding:1.5rem}.profile-avatar[_ngcontent-%COMP%]{width:120px;height:120px}.profile-details[_ngcontent-%COMP%]{justify-content:center}.stats-container[_ngcontent-%COMP%]{grid-template-columns:1fr}.stats-card[_ngcontent-%COMP%]{padding:1rem}.stats-body[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 480px){.stats-body[_ngcontent-%COMP%]{grid-template-columns:1fr}}.error-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:2rem}.error-message[_ngcontent-%COMP%]{background-color:#ffebee;border-radius:8px;padding:2rem;text-align:center;max-width:400px;width:100%}.error-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--danger-color);margin-bottom:1.5rem}.reconnect-button[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .2s}.reconnect-button[_ngcontent-%COMP%]:hover{background-color:var(--primary-dark)}.reconnect-button[_ngcontent-%COMP%]:active{transform:translateY(1px)}.loading-stats-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;margin-top:2rem}.loading-stats-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;background:var(--bg-primary);padding:2rem;border-radius:var(--radius-md);box-shadow:var(--shadow-sm)}.loading-spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid var(--bg-secondary);border-top-color:var(--primary-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;flex-shrink:0}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.loading-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--text-primary);margin:0}.loading-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary);margin:0;line-height:1.5}.loading-subtext[_ngcontent-%COMP%]{font-size:.85rem!important;color:var(--text-tertiary)!important;font-style:italic}.stats-skeleton-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:1.5rem}.stats-skeleton-card[_ngcontent-%COMP%]{background:var(--bg-primary);border-radius:var(--radius-md);padding:1.5rem;box-shadow:var(--shadow-sm);position:relative;overflow:hidden;display:flex;flex-direction:column;gap:1.5rem}.stats-skeleton-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);animation:_ngcontent-%COMP%_shimmer 2s infinite;z-index:1;pointer-events:none}@keyframes _ngcontent-%COMP%_shimmer{to{left:100%}}.skeleton-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.skeleton-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;background:var(--bg-secondary);opacity:.3}.skeleton-title[_ngcontent-%COMP%]{flex:1;height:20px;border-radius:4px;background:var(--bg-secondary);opacity:.3}.skeleton-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.skeleton-metric[_ngcontent-%COMP%]{height:60px;border-radius:6px;background:var(--bg-secondary);opacity:.2}.skeleton-record[_ngcontent-%COMP%]{height:80px;border-radius:6px;background:var(--bg-secondary);opacity:.2;margin-bottom:.5rem}.dark-mode[_nghost-%COMP%]   .stats-skeleton-card[_ngcontent-%COMP%]:after, .dark-mode   [_nghost-%COMP%]   .stats-skeleton-card[_ngcontent-%COMP%]:after{background:linear-gradient(90deg,transparent,rgba(255,255,255,.05),transparent)}@media (max-width: 768px){.loading-stats-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding:1.5rem}.loading-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.loading-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.stats-skeleton-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};export{ce as ProfileComponent,Ue as fadeIn};
